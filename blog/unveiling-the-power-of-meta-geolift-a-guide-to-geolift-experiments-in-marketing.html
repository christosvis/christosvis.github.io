<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unveiling the Power of Meta GeoLift: A Guide to GeoLift Experiments in Marketing - Christos Visvardis</title>
    <meta name="description" content="
In the dynamic landscape of digital marketing, understanding the real impact of geo-targeted campaigns is key. Enter Meta GeoLift, a game-changer in ...">
    <link rel="stylesheet" href="../style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <a href="../index.html" class="logo">Christos Visvardis</a>
            <nav>
                <ul>
                    <li><a href="../portfolio.html">Portfolio</a></li>
                    <li><a href="../blog.html" class="active">Blog</a></li>
                    <li>
                        <a href="https://www.linkedin.com/in/cvis/" target="_blank" aria-label="LinkedIn">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="currentColor">
                                <path
                                    d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/christosvis" target="_blank" aria-label="GitHub">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="currentColor">
                                <path
                                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                            </svg>
                        </a>
                    </li>
                    <li>
                        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle Dark Mode">
                            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="display:none;">
                                <path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z" />
                            </svg>
                            <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M12.3 22h-.1a10.313 10.313 0 0 1-10.2-10.2a10.288 10.288 0 0 1 10.2-10.2c.2 0 .4 0 .6.1a9.843 9.843 0 0 0-8.5 12.2a9.867 9.867 0 0 0 8.6 8c-.2.1-.4.1-.6.1z" />
                            </svg>
                        </button>
                    </li>
                </ul>
            </nav>
        </header>

        <main>
            <article class="blog-post">
                <h1>Unveiling the Power of Meta GeoLift: A Guide to GeoLift Experiments in Marketing</h1>
                <div class="post-meta">November 13, 2023</div>
                <div class="post-content">
                    <p>In the dynamic landscape of digital marketing, understanding the real impact of geo-targeted campaigns is key. Enter <a href="https://facebookincubator.github.io/GeoLift/" target="_blank" rel="noreferrer noopener">Meta GeoLift</a>, a game-changer in marketing measurement. In this post, we'll delve into what GeoLift experiments are, why they're a must for marketers, and a step-by-step guide on running Meta GeoLift</p>
<p><strong>What are GeoLift Experiments?</strong><br>GeoLift experiments are a way to measure the effectiveness of marketing efforts in specific geographic locations. Unlike traditional metrics, GeoLift focuses on the incremental impact, answering the crucial question: Did our campaign make a real difference in these specific regions?</p>
<p><strong>Why Use Meta GeoLift for Marketing Measurement?</strong></p>
<ul>
<li><strong>Precision in Geo-Targeting:</strong> GeoLift experiments allow marketers to fine-tune their targeting. Instead of a broad brush, you can pinpoint regions where your campaigns truly matter.</li>
</ul>
<ul>
<li><strong>Optimizing Ad Spend:</strong> By understanding the lift in specific locations, marketers can optimize their ad spend. Why invest where there's minimal impact when you can channel resources where they make a real difference?</li>
</ul>
<ul>
<li><strong>Data-Driven Decision Making:</strong> GeoLift experiments provide actionable insights backed by data. Make decisions based on what's working, not just what seems to be working.</li>
</ul>
<h2 class="wp-block-heading"><strong>How to Run Meta GeoLift: A Step-by-Step Guide</strong></h2>
<h3 class="wp-block-heading"><strong>Define Experiment Goals</strong> </h3>
<p>Clearly outline what you aim to achieve with your GeoLift experiment. Are you looking to boost click-through rates, increase conversions, or enhance brand engagement?</p>
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<h3 class="wp-block-heading"><strong>Data and R Environment</strong></h3>
<p>Ensure you have the required packages installed.</p>
<pre class="wp-block-code"><code>install.packages("remotes", repos='http://cran.us.r-project.org')
remotes::install_github("ebenmichael/augsynth")
remotes::install_github("facebookincubator/GeoLift")
library(GeoLift)</code></pre>
<h3 class="wp-block-heading"><strong>Data</strong></h3>
<p>For this illustration, we'll use simulated data for 40 US cities over 90 days. This data will help us design a test, select test markets, run power calculations, and ultimately calculate the lift caused by a campaign.</p>
<pre class="wp-block-code"><code># Load simulated data from GeoLift package
data(GeoLift_PreTest)
# Analyze and format the data using GeoDataRead function
GeoTestData_PreTest &lt;- GeoDataRead(data = GeoLift_PreTest,
                                    date_id = "date",
                                    location_id = "location",
                                    Y_id = "Y",
                                    X = c(), # Empty list as we have no covariates
                                    format = "yyyy-mm-dd",
                                    summary = TRUE)
# Display a summary of the formatted data
head(GeoTestData_PreTest)</code></pre>
<p>The <code>GeoDataRead</code> function processes the data, ensuring completeness and returning a data frame with time-stamps. In this case, each time unit represents a day.</p>
<p><em>Note: Ensure there are no missing variables, NAs, or locations with missing time-stamps before using <code>GeoDataRead()</code>.</em></p>
<h3 class="wp-block-heading"><strong>Data Analysis</strong></h3>
<p>Visualize the data trends, contributions per location, and detect anomalies using GeoPlot.</p>
<pre class="wp-block-code"><code>GeoPlot(GeoTestData_PreTest,
        Y_id = "Y",
        time_id = "time",
        location_id = "location")</code></pre>
<p>This plot provides insights into the shared patterns across locations, crucial for a successful GeoLift test.</p>
<figure class="wp-block-image aligncenter size-full"><img src="https://visvardis.com/wp-content/uploads/2023/11/image-13.png" alt="" class="wp-image-733"/></figure>
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<h3 class="wp-block-heading"><strong>Power analysis</strong></h3>
<pre class="wp-block-code"><code>MarketSelections &lt;- GeoLiftMarketSelection(data = GeoTestData_PreTest,
                                           treatment_periods = c(10,15),
                                           N = c(2,3,4,5),
                                           Y_id = "Y",
                                           location_id = "location",
                                           time_id = "time",
                                           effect_size = seq(0, 0.5, 0.05),
                                           lookback_window = 1,
                                           include_markets = c("chicago"),
                                           exclude_markets = c("honolulu"),
                                           holdout = c(0.5, 1),
                                           cpic = 7.50,
                                           budget = 100000,
                                           alpha = 0.1,
                                           Correlations = TRUE,
                                           fixed_effects = TRUE,
                                           side_of_test = "two_sided")</code></pre>
<ol>
<li><strong>Data:</strong> We're using the GeoTestData_PreTest dataset for the analysis. Ensure it contains the necessary columns like "location," "Y" for outcome data, and "time" for time periods.</li>
<li><strong>Test Durations:</strong> Assessing the power for 10 and 15-day tests.</li>
<li><strong>Test Market Sizes:</strong> Exploring different test market sizes - 2, 3, 4, and 5 markets.</li>
<li><strong>Effect Size:</strong> Simulating lifts from 0% to 50% in 5% increments. This defines the minimum lift needed for a successful test.</li>
<li><strong>Lookback Window:</strong> Focusing on the most recent possible test by setting it to 1.</li>
<li><strong>Include and Exclude Markets:</strong> Chicago is a must in the test group (include_markets), and Honolulu is excluded from the test group.</li>
<li><strong>Holdout:</strong> Allowing a large holdout, set at 50% to 100%, indicating the share of conversions that won't see the ad campaign.</li>
<li><strong>CPIC (Cost Per Incremental Conversion):</strong> Set at $7.50, providing an estimate of the average cost needed to bring one incremental conversion.</li>
<li><strong>Budget:</strong> The maximum budget available for the GeoLift test is set at $100,000.</li>
<li><strong>Alpha:</strong> Significance level is set at 0.1 (90% confidence level) by default.</li>
<li><strong>Correlations:</strong> Including correlations between test regions and control markets in the output.</li>
<li><strong>Fixed Effects:</strong> Including unit Fixed Effects in the model, given the stable behavior observed in historical data.</li>
<li><strong>Side of Test:</strong> Using a two-sided test for determining confidence.</li>
</ol>
<p>The <code>GeoLiftMarketSelection</code> function returns a variable named <code>MarketSelections</code>, containing key metrics like Power, AvgScaledL2Imbalance, Investment, AvgATT, Average_MDE, and more. These metrics help you evaluate and select the best combination of test markets based on your criteria and goals.</p>
<h2 class="wp-block-heading">Running the test</h2>
<h3 class="wp-block-heading">Test Data Preparation</h3>
<p>The data for the campaign results is stored in the GeoLift_Test dataset.</p>
<pre class="wp-block-code"><code>   GeoTestData_Test &lt;- GeoDataRead(data = GeoLift_Test,<br>                                   date_id = "date",<br>                                   location_id = "location",<br>                                   Y_id = "Y",<br>                                   X = c(), #empty list as we have no covariates<br>                                   format = "yyyy-mm-dd",<br>                                   summary = TRUE)<br><br></code></pre>
<p>The summary output provides information about the data, including the number of locations and time periods.</p>
<h3 class="wp-block-heading">Visualization of Test Results</h3>
<p>Let's plot the results:</p>
<pre class="wp-block-code"><code>   GeoPlot(GeoTestData_Test,
           Y_id = "Y",
           time_id = "time",
           location_id = "location",
           treatment_start = 91)</code></pre>
<ul>
<li>We're using <code>GeoPlot</code> to visualize the time-series data for post-campaign results.</li>
<li>The <code>treatment_start</code> parameter is set to 91, indicating the time stamp at which the campaign started.</li>
</ul>
<figure class="wp-block-image size-full"><img src="https://visvardis.com/wp-content/uploads/2023/11/image-10.png" alt="" class="wp-image-729"/></figure>
<h3 class="wp-block-heading">GeoLift Inference:</h3>
<p>Let's run GeoLift</p>
<pre class="wp-block-code"><code>   GeoTest &lt;- GeoLift(Y_id = "Y",
                     data = GeoTestData_Test,
                     locations = c("chicago", "portland"),
                     treatment_start_time = 91,
                     treatment_end_time = 105)</code></pre>
<ul>
<li>We're applying the <code>GeoLift</code> function to calculate the actual lift caused by the marketing campaigns.</li>
<li>We're specifying test parameters such as outcome variable, data, treatment locations, and treatment time period.</li>
</ul>
<p>Display the results:</p>
<pre class="wp-block-code"><code>   GeoTest</code></pre>
<ul>
<li>Display the results of the GeoLift analysis, showing the percent lift, incremental Y, average estimated treatment effect (ATT), and statistical significance.</li>
</ul>
<pre class="wp-block-code"><code>    #&gt; One outcome and one treatment time found. Running single_augsynth.
    #&gt;
    #&gt; GeoLift Output
    #&gt;
    #&gt; Test results for 15 treatment periods, from time-stamp 91 to 105 for test markets:
    #&gt; 1 CHICAGO
    #&gt; 2 PORTLAND
    #&gt; ##################################
    #&gt; #####     Test Statistics    #####
    #&gt; ##################################
    #&gt;
    #&gt; Percent Lift: 5.4%
    #&gt;
    #&gt; Incremental Y: 4667
    #&gt;
    #&gt; Average Estimated Treatment Effect (ATT): 155.556
    #&gt;
    #&gt; The results are significant at a 95% level. (TOTAL)
    #&gt;
    #&gt; There is a 0.6% chance of observing an effect this large or larger assuming treatment effect is zero.</code></pre>
<h3 class="wp-block-heading">Summary and Model Fit:</h3>
<pre class="wp-block-code"><code>   summary(GeoTest)</code></pre>
<ul>
<li>We're providing a detailed summary of GeoLift results, including average ATT, percent lift, incremental Y, p-value, balance statistics, and model weights.</li>
</ul>
<pre class="wp-block-code"><code>    #&gt;
    #&gt; GeoLift Results Summary
    #&gt; ##################################
    #&gt; #####     Test Statistics    #####
    #&gt; ##################################
    #&gt;
    #&gt; * Average ATT: 155.556
    #&gt; * Percent Lift: 5.4%
    #&gt; * Incremental Y: 4667
    #&gt; * P-value: 0.01
    #&gt;
    #&gt; ##################################
    #&gt; #####   Balance Statistics   #####
    #&gt; ##################################
    #&gt;
    #&gt; * L2 Imbalance: 909.489
    #&gt; * Scaled L2 Imbalance: 0.1636
    #&gt; * Percent improvement from naive model: 83.64%
    #&gt; * Average Estimated Bias: NA
    #&gt;
    #&gt; ##################################
    #&gt; #####     Model Weights      #####
    #&gt; ##################################
    #&gt;
    #&gt; * Prognostic Function: NONE
    #&gt;
    #&gt; * Model Weights:
    #&gt;  * austin: 0.0465
    #&gt;  * baton rouge: 0.1335
    #&gt;  * cincinnati: 0.2272
    #&gt;  * dallas: 0.0739
    #&gt;  * honolulu: 0.0673
    #&gt;  * houston: 0.0046
    #&gt;  * miami: 0.2028
    #&gt;  * minneapolis: 0.09
    #&gt;  * nashville: 0.0685
    #&gt;  * new york: 0.0046
    #&gt;  * reno: 0.0306
    #&gt;  * san antonio: 0.0054
    #&gt;  * san diego: 0.0451</code></pre>
<p><strong>Plotting Lift and ATT:</strong></p>
<pre class="wp-block-code"><code>   plot(GeoTest, type = "Lift")
   plot(GeoTest, type = "ATT")</code></pre>
<ul>
<li>Using the <code>plot</code> function to visualize the lift and average treatment effect over time.</li>
<li>The charts help assess the model's fit and the effectiveness of the marketing campaign.</li>
</ul>
<figure class="wp-block-image size-full"><img src="https://visvardis.com/wp-content/uploads/2023/11/image-11.png" alt="" class="wp-image-730"/></figure>
<figure class="wp-block-image size-full"><img src="https://visvardis.com/wp-content/uploads/2023/11/image-12.png" alt="" class="wp-image-731"/></figure>
<p><br>Meta GeoLift opens the door to a new era of precision in marketing. By running GeoLift experiments, marketers can elevate their strategies, ensuring every ad dollar spent contributes significantly to the bottom line. Ready to unlock the geo-marketing potential? Dive into Meta GeoLift and watch your campaigns soar.</p>
                </div>
                <a href="../blog.html" class="back-link">&larr; Back to Blog</a>
            </article>
        </main>

        <footer>
            <p>&copy; 2025 Christos Visvardis. All rights reserved.</p>
        </footer>
    </div>

    <script src="../script.js"></script>
</body>
</html>